{"openapi":"3.0.0","paths":{"/file/upload":{"post":{"operationId":"ImageController_uploadFile","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":""}},"tags":["file"],"security":[{"bearer":[]}]}},"/file/image/{path}":{"get":{"operationId":"ImageController_showFile","parameters":[{"name":"path","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["file"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDataDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginLocalDataDto"}}}},"responses":{"200":{"description":""}},"tags":["auth"]}},"/auth/login-firebase":{"post":{"operationId":"AuthController_loginWithFirebaseToken","parameters":[{"name":"authorization","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["auth"]}},"/auth/verify-token":{"post":{"operationId":"AuthController_verifyToken","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/verify-admin-token":{"post":{"operationId":"AuthController_verifyAdminToken","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/admin/all-accounts":{"get":{"operationId":"AuthController_getAllAccounts","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/admin/create-account":{"post":{"operationId":"AuthController_createAccount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/admin/update-account/{id}":{"put":{"operationId":"AuthController_updateAccount","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUpdateAccountDataDto"}}}},"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/admin/delete-account/{id}":{"delete":{"operationId":"AuthController_deleteAccount","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/admin/undo-delete-account/{id}":{"put":{"operationId":"AuthController_undoDeleteAccount","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/user/change-password":{"post":{"operationId":"AuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordDto"}}}},"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/user/update-phone":{"post":{"operationId":"AuthController_changePhoneNumber","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneDto"}}}},"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/user/update-username":{"post":{"operationId":"AuthController_changeUsername","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsernameDto"}}}},"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/milk":{"get":{"operationId":"MilkController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]},"post":{"operationId":"MilkController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMilkDto"}}}},"responses":{"201":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]}},"/milk/{id}":{"get":{"operationId":"MilkController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]},"put":{"operationId":"MilkController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMilkDto"}}}},"responses":{"200":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]},"delete":{"operationId":"MilkController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]}},"/milk/undelete/{id}":{"put":{"operationId":"MilkController_unDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["milk"],"security":[{"bearer":[]}]}},"/milk-user":{"get":{"operationId":"MilkUserController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["milk-user"]}},"/milk-user/{id}":{"get":{"operationId":"MilkUserController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["milk-user"]}},"/voucher":{"get":{"operationId":"VoucherController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]},"post":{"operationId":"VoucherController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVoucherDto"}}}},"responses":{"201":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]}},"/voucher/{id}":{"get":{"operationId":"VoucherController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]},"put":{"operationId":"VoucherController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVoucherDto"}}}},"responses":{"200":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]},"delete":{"operationId":"VoucherController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]}},"/voucher/undelete/{id}":{"put":{"operationId":"VoucherController_unDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["voucher"],"security":[{"bearer":[]}]}},"/voucher-user":{"get":{"operationId":"VoucherUserController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["voucher-user"]}},"/voucher-user/{id}":{"get":{"operationId":"VoucherUserController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["voucher-user"]}},"/category":{"get":{"operationId":"CategoryController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]},"post":{"operationId":"CategoryController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]}},"/category/{id}":{"get":{"operationId":"CategoryController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]},"put":{"operationId":"CategoryController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]},"delete":{"operationId":"CategoryController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]}},"/category/undelete/{id}":{"put":{"operationId":"CategoryController_unDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["category"],"security":[{"bearer":[]}]}},"/category-user":{"get":{"operationId":"CategoryUserController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["category-user"]}},"/category-user/{id}":{"get":{"operationId":"CategoryUserController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["category-user"]}},"/brand":{"get":{"operationId":"BrandController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]},"post":{"operationId":"BrandController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBrandDto"}}}},"responses":{"201":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]}},"/brand/{id}":{"get":{"operationId":"BrandController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]},"put":{"operationId":"BrandController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBrandDto"}}}},"responses":{"200":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]},"delete":{"operationId":"BrandController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]}},"/brand/undelete/{id}":{"put":{"operationId":"BrandController_unDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["brand"],"security":[{"bearer":[]}]}},"/brand-user":{"get":{"operationId":"BrandUserController_getAll","parameters":[],"responses":{"200":{"description":""}},"tags":["brand-user"]}},"/brand-user/{id}":{"get":{"operationId":"BrandUserController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["brand-user"]}},"/order":{"post":{"operationId":"OrderController_createOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":""}},"tags":["order"]},"get":{"operationId":"OrderController_getOrders","parameters":[],"responses":{"200":{"description":""}},"tags":["order"]}},"/order/get-result/{orderId}":{"get":{"operationId":"OrderController_getResult","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["order"]}},"/order/{orderId}":{"get":{"operationId":"OrderController_getOrder","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["order"]}},"/order/update-status/{orderId}":{"post":{"operationId":"OrderController_updateStatus","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","PAID","CANCELED","EXPIRED","SHIPPING","COMPLETED","REFUND"]}}}}}},"responses":{"201":{"description":""}},"tags":["order"],"security":[{"bearer":[]}]}},"/feedback":{"get":{"operationId":"FeedbackController_getFeedbacks","parameters":[],"responses":{"200":{"description":""}},"tags":["feedback"]},"post":{"operationId":"FeedbackController_createFeedback","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFeedbackDto"}}}},"responses":{"201":{"description":""}},"tags":["feedback"]}},"/feedback/getFeedbacksByProductId/{id}":{"get":{"operationId":"FeedbackController_getFeedbackByProductId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["feedback"]}},"/feedback/getFeedbackByUserId/{id}":{"get":{"operationId":"FeedbackController_getFeedbackByUserId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["feedback"]}},"/feedback/{id}":{"put":{"operationId":"FeedbackController_updateFeedback","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFeedbackDto"}}}},"responses":{"200":{"description":""}},"tags":["feedback"]}},"/shipping":{"post":{"operationId":"ShippingController_addShippingOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddShippingOrderDto"}}}},"responses":{"201":{"description":""}},"tags":["shipping"],"security":[{"bearer":[]}]},"get":{"operationId":"ShippingController_getAllShippingOrderList","parameters":[],"responses":{"200":{"description":""}},"tags":["shipping"],"security":[{"bearer":[]}]}},"/shipping/{userId}":{"get":{"operationId":"ShippingController_getShippingOrderListByUserId","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["shipping"],"security":[{"bearer":[]}]}},"/gift/exchange-score-for-voucher":{"post":{"operationId":"GiftController_exchangeScoreForVoucher","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"accountId":{"type":"string"},"voucherId":{"type":"string"},"quantity":{"type":"number"}}}}}},"responses":{"201":{"description":""}},"tags":["gift"]}},"/gift/newest-score/userId":{"get":{"operationId":"GiftController_getNewestScore","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["gift"]}},"/gift/get-by-user-id/{id}":{"get":{"operationId":"GiftController_getGiftByUserId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["gift"]}}},"info":{"title":"Milk - API - Documentation","description":"API for user interface development","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"RegisterDataDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"password":{"type":"string"}},"required":["username","email","phone","password"]},"LoginLocalDataDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"CreateAccountDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}},"required":["username","email","phone","password","role"]},"AdminUpdateAccountDataDto":{"type":"object","properties":{"username":{"type":"string"},"phone":{"type":"string"},"role":{"type":"string"},"password":{"type":"string"}},"required":["username","phone","role","password"]},"PasswordDto":{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},"PhoneDto":{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},"UsernameDto":{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},"CreateMilkDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"quantity":{"type":"number"},"images":{"type":"array","items":{"type":"string"}},"category":{"type":"string","description":"Category ID"},"brand":{"type":"string","description":"Brand ID"},"expiredAt":{"format":"date-time","type":"string"}},"required":["name","description","price","quantity","images","category","brand","expiredAt"]},"MilkStatus":{"type":"string","description":"Milk status","enum":["ACTIVE","INACTIVE"]},"UpdateMilkDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"quantity":{"type":"number"},"sold":{"type":"number"},"category":{"type":"string","description":"Category ID"},"brand":{"type":"string","description":"Brand ID"},"images":{"type":"array","items":{"type":"string"}},"status":{"$ref":"#/components/schemas/MilkStatus"}},"required":["name","description","price","quantity","sold","category","brand","images","status"]},"CreateVoucherDto":{"type":"object","properties":{"code":{"type":"string"},"discount":{"type":"number"},"quantity":{"type":"number"},"isPublic":{"type":"boolean"},"isForGift":{"type":"boolean"},"score":{"type":"number"},"startAt":{"format":"date-time","type":"string"},"expiredAt":{"format":"date-time","type":"string"}},"required":["code","discount","quantity","isPublic","isForGift","score","startAt","expiredAt"]},"UpdateVoucherDto":{"type":"object","properties":{"code":{"type":"string"},"discount":{"type":"number"},"quantity":{"type":"number"},"isForGift":{"type":"boolean"},"score":{"type":"number"},"startAt":{"type":"string"},"expiredAt":{"type":"string"},"isPublic":{"type":"boolean"}},"required":["code","discount","quantity","isForGift","score","startAt","expiredAt","isPublic"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string"},"images":{"type":"string"}},"required":["name","images"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string"},"images":{"type":"string"}},"required":["name","images"]},"CreateBrandDto":{"type":"object","properties":{"name":{"type":"string"},"images":{"type":"string"}},"required":["name","images"]},"UpdateBrandDto":{"type":"object","properties":{"name":{"type":"string"},"images":{"type":"string"}},"required":["name","images"]},"CreateOrderDto":{"type":"object","properties":{"email":{"type":"string"},"phone":{"type":"string"},"username":{"type":"string"},"address":{"type":"string"},"total":{"type":"number"},"voucher":{"type":"string","nullable":true,"default":null,"description":"Voucher Code"},"items":{"type":"array","items":{"type":"object","properties":{"milkId":{"type":"string"},"name":{"type":"string"},"quantity":{"type":"number"},"price":{"type":"number"}}}}},"required":["email","phone","username","address","total","voucher","items"]},"CreateFeedbackDto":{"type":"object","properties":{"orderItemId":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"content":{"type":"string"},"rating":{"type":"number"}},"required":["orderItemId","name","phone","content","rating"]},"UpdateFeedbackDto":{"type":"object","properties":{"name":{"type":"string"},"phone":{"type":"string"},"content":{"type":"string"},"rating":{"type":"number"}},"required":["name","phone","content","rating"]},"AddShippingOrderDto":{"type":"object","properties":{"account":{"type":"string"},"shipping_code":{"type":"string"}},"required":["account","shipping_code"]}}}}